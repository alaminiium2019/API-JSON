<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <h1>JSON</h1>
  <h2 id="demo"></h2>
  <ul id="users-container">

    <input id="name"type="text" placeholder="name">
    <br>
    <input id="id"type="text" placeholder="id">
    <br>
    <button id="submit">submit</button>

  </ul>
  <script>

//what is json
    // const user={id:340, 
    //   name:"Alamin",
    //   friendsAge:[12,45,56],
    //   friends:["Dithi","Sohel","Jowel","Opul"]
    // };

    // const userJSON=JSON.stringify(user);
    // console.log(userJSON);

    // //JSON data  to JS object
    // const jsonfile=JSON.parse(userJSON);
    // console.log(jsonfile);
//error show
  //fetch('https://jsonplaceholder.typicode.com/users')
  // fetch('https://jsonplaceholder.typicode.com/users')
  // .then(response => response.json())
  // .then(json => displayUser(json))
  // .catch(error => console.log(error));

  // function displayUser(users){
  //   const userNames = users.map(user => user.username);

  //   const ul = document.getElementById('users-container');//webpage

  //   for(let i=0; i<userNames.length;i++){
  //     const user = userNames[i];
  //     const li = document.createElement('li');
  //     li.innerHTML=user;
  //     ul.appendChild(li);

  //   }
  // }

//Display data on webpage
document.getElementById('submit').addEventListener("click",function(){
  const name = document.getElementById('name').value;
  const id = document.getElementById('id').value;
  const post = {name:name, id: id};
  nowPostToServer(post);
})

function nowPostToServer(postInfo){
  fetch('https://jsonplaceholder.typicode.com/s', {
    method: 'POST',
    body: JSON.stringify(postInfo),
    headers: {
      "Content-type": "application/json; charset=UTF-8"
    }
  })
  .then(response => response.json())
  .then(json => console.log(json))
  .catch(error=>alert(error));
}


//Display data on webpage from serer

  //  function displayUser(users){
  //   const userNames = users.map(user => user.username);

  //   const ul = document.getElementById('users-container');//webpage

  //   for(let i = 0; i < userNames.length; i++){
  //     const user = userNames[i];
  //     const li = document.createElement('li');
  //     li.innerHTML=user;
  //     ul.appendChild(li);

  //   }
  // }
  </script>
  
</body>
</html>